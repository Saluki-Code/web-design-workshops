function changePic(){var e=document.getElementById("picPick").value,t=document.getElementsByTagName("head"),n=document.createElement("link");document.getElementById("favicon")?document.getElementById("favicon").href=e:(n.href=e,n.rel="shortcut icon",n.id="favicon",t[0].appendChild(n)),document.getElementById("myPic").src=e}function changeName(){var e=document.getElementById("namePick").value,t=document.getElementsByClassName("myName"),n=document.title;if(e.length){n=e+"'s Page";for(var c=0;c<t.length;c++)t[c].innerHTML=e}else{n="My Page";for(var c=0;c<t.length;c++)t[c].innerHTML="Me"}}function changeBackground(){var e=document.getElementById("bgPick").value;document.getElementsByTagName("body")[0].style.background=e}function changeTextColor(){for(var e=document.getElementById("txtPick").value,t=document.querySelectorAll("section"),n=0;n<t.length-1;n++)t[n].style.color=e}function changeSectionBackground(){for(var e=document.getElementById("sectBgPick").value,t=document.querySelectorAll("section"),n=0;n<t.length-1;n++)t[n].style.background=e}function generateHtml(){var e=$("html").html().split('	<section id="controller">\n');e[0]="<!doctype html>\n<html>\n"+e[0]+"</main>\n</body>\n</html>",$("textarea").remove(),$("#controller").append("<textarea>"+e[0]+"</textarea>"),$("textarea").height($("textarea")[0].scrollHeight)}document.getElementById("bgPick").onkeyup=changeBackground,document.getElementById("txtPick").onkeyup=changeTextColor,document.getElementById("sectBgPick").onkeyup=changeSectionBackground,document.getElementById("namePick").onkeyup=changeName,document.getElementById("picPick").onchange=changePic,document.getElementById("picPick").onkeypress=changePic,document.getElementById("genHTML").onclick=generateHtml;var oriVal;$("section ul").on("dblclick","li",function(){oriVal=$(this).html(),$(this).html(""),$("<input type='text'>").appendTo(this).focus()}),$("section ul").on("focusout","li > input",function(){var e=$(this);e.parent().html(e.val()||oriVal),e.remove()});
